{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Notify/Notify.module.css","App.module.css","Components/Searchbar/Searchbar.module.css","Services/apiService.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Notify/Notify.js","Components/Modal/Modal.js","Components/Button/Button.js","App.js","index.js","Components/Modal/Modal.module.css"],"names":["module","exports","fetchImage","searchQuery","page","a","axios","get","response","data","propTypes","PropTypes","string","isRequired","number","Searchbar","onSubmit","useState","setSearchQuery","className","s","SearchForm","evt","preventDefault","type","button","label","input","autoComplete","autoFocus","placeholder","value","onChange","target","ImageGalleryItem","image","toggleModal","src","webformatURL","alt","tags","onClick","status","largeImageURL","ImageGallery","images","map","id","Notify","message","Modal","useEffect","window","addEventListener","checkEvent","removeEventListener","key","currentTarget","Overlay","img","Button","buttonBox","App","setImages","setPage","isLoading","setIsLoading","notify","setNotify","targetImage","showPopup","setShowPopup","showButton","setShowButton","searchImages","then","total","current","hits","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","totalHits","length","catch","error","finally","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.06665485.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1O_Qg\",\"image\":\"ImageGalleryItem_image__19Slf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonBox\":\"Button_buttonBox__2Xma6\",\"Button\":\"Button_Button__1QbwL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1SgCm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notify\":\"Notify_Notify__2WTZi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3ZrOJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2KlOZ\",\"SearchForm\":\"Searchbar_SearchForm__3-vKF\",\"button\":\"Searchbar_button__2Q4Jx\",\"label\":\"Searchbar_label__p_XxU\",\"input\":\"Searchbar_input__1WG7h\"};","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst KEY = '18895827-cf969cabaa6d7255b0d8616bb';\n\nconst fetchImage = async (searchQuery, page) => {\n  const response = await axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return response.data;\n};\n\nfetchImage.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default fetchImage;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const changeInput = evt => {\n    setSearchQuery(evt.target.value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    onSubmit(searchQuery);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.button}>\n          <span className={s.label}>Search</span>\n        </button>\n\n        <input\n          className={s.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchQuery}\n          onChange={changeInput}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, toggleModal }) => {\n  const onClick = () => {\n    toggleModal({\n      status: true,\n      src: image.largeImageURL,\n      alt: image.tags,\n    });\n  };\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        className={s.image}\n        src={image.webformatURL}\n        alt={image.tags}\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, toggleModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          image={image}\n          key={image.id}\n          toggleModal={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Notify.module.css';\n\nconst Notify = ({ message }) => {\n  return <p className={s.Notify}>{message}</p>;\n};\n\nNotify.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default Notify;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst Modal = ({ src, alt, toggleModal }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', checkEvent);\n    return () => {\n      window.removeEventListener('keydown', checkEvent);\n    };\n  });\n\n  const checkEvent = evt => {\n    if (evt.key === 'Escape' || evt.target === evt.currentTarget) {\n      toggleModal({ status: false });\n    }\n  };\n\n  return (\n    <div className={s.Overlay} onClick={checkEvent}>\n      <div className={s.Modal}>\n        <img className={s.img} src={src} alt={alt} />\n      </div>\n    </div>\n  );\n};\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={s.buttonBox}>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useState, useEffect } from 'react';\nimport Loader from 'react-loader-spinner';\nimport fetchImage from './Services/apiService';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Notify from './Components/Notify';\nimport Modal from './Components/Modal';\nimport Button from './Components/Button';\nimport s from './App.module.css';\n\nconst App = () => {\n  const [images, setImages] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [notify, setNotify] = useState({ status: false, message: '' });\n  const [showPopup, setShowPopup] = useState({\n    status: false,\n    targetImage: null,\n  });\n  const [showButton, setShowButton] = useState(false);\n\n  useEffect(() => {\n    setPage(1);\n    searchImages(searchQuery, 1);\n  }, [searchQuery]);\n\n  function searchImages(searchQuery, page) {\n    if (searchQuery === '') {\n      setImages([]);\n      setShowButton(false);\n      setNotify({ status: true, message: 'Please input search request' });\n      return;\n    }\n\n    setIsLoading(true);\n    setNotify({ status: false, message: '' });\n\n    fetchImage(searchQuery, page)\n      .then(data => {\n        if (page === 1) {\n          setImages(data.hits);\n        } else {\n          setImages(prevState => [...prevState, ...data.hits]);\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n\n        checkButtonAndNotify(data.totalHits, images.length + data.hits.length);\n        setPage(prevState => prevState + 1);\n      })\n      .catch(error =>\n        setNotify({\n          status: true,\n          message: `Something wrong: ${error.message}`,\n        }),\n      )\n      .finally(() => setIsLoading(false));\n  }\n\n  function checkButtonAndNotify(total, current) {\n    setShowButton(total > current ? true : false);\n\n    setNotify(\n      !total\n        ? { status: true, message: 'Nothing was found. Try again.' }\n        : { status: false, message: '' },\n    );\n  }\n\n  const toggleModal = ({ status, src, alt }) => {\n    setShowPopup(\n      status\n        ? { status: true, targetImage: { src, alt } }\n        : { status: false, targetImage: null },\n    );\n  };\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={setSearchQuery} />\n      {notify.status && <Notify message={notify.message} />}\n      {isLoading && (\n        <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\n      )}\n      {images.length > 0 && (\n        <ImageGallery images={images} toggleModal={toggleModal} />\n      )}\n      {showPopup.status && (\n        <Modal\n          src={showPopup.targetImage.src}\n          alt={showPopup.targetImage.alt}\n          toggleModal={toggleModal}\n        />\n      )}\n      {showButton && <Button onClick={() => searchImages(searchQuery, page)} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__NRy1q\",\"Modal\":\"Modal_Modal__MZd5K\"};"],"sourceRoot":""}