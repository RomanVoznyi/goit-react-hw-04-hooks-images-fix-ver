(this["webpackJsonpgoit-react-hw-04-hooks-images-fix-ver"]=this["webpackJsonpgoit-react-hw-04-hooks-images-fix-ver"]||[]).push([[0],{11:function(t,e,a){t.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1O_Qg",image:"ImageGalleryItem_image__19Slf"}},12:function(t,e,a){t.exports={buttonBox:"Button_buttonBox__2Xma6",Button:"Button_Button__1QbwL"}},26:function(t,e,a){t.exports={ImageGallery:"ImageGallery_ImageGallery__1SgCm"}},27:function(t,e,a){t.exports={Notify:"Notify_Notify__2WTZi"}},28:function(t,e,a){t.exports={App:"App_App__3ZrOJ"}},34:function(t,e,a){},5:function(t,e,a){t.exports={Searchbar:"Searchbar_Searchbar__2KlOZ",SearchForm:"Searchbar_SearchForm__3-vKF",button:"Searchbar_button__2Q4Jx",label:"Searchbar_label__p_XxU",input:"Searchbar_input__1WG7h"}},74:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a(0),s=a.n(r),c=a(22),o=a.n(c),i=(a(34),a(13)),u=a(4),l=a(23),m=a.n(l),g=a(10),b=a.n(g),j=a(24),h=a(25),f=a.n(h),p=a(2),d=a.n(p),O=function(){var t=Object(j.a)(b.a.mark((function t(e,a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=").concat("18895827-cf969cabaa6d7255b0d8616bb","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();O.propTypes={searchQuery:d.a.string.isRequired,page:d.a.number.isRequired};var _=O,x=a(5),v=a.n(x),y=function(t){var e=t.onSubmit,a=Object(r.useState)(""),s=Object(u.a)(a,2),c=s[0],o=s[1];return Object(n.jsx)("header",{className:v.a.Searchbar,children:Object(n.jsxs)("form",{className:v.a.SearchForm,onSubmit:function(t){t.preventDefault(),e(c)},children:[Object(n.jsx)("button",{type:"submit",className:v.a.button,children:Object(n.jsx)("span",{className:v.a.label,children:"Search"})}),Object(n.jsx)("input",{className:v.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(t){o(t.target.value)}})]})})},S=a(11),I=a.n(S),N=function(t){var e=t.image,a=t.toggleModal;return Object(n.jsx)("li",{className:I.a.ImageGalleryItem,children:Object(n.jsx)("img",{className:I.a.image,src:e.webformatURL,alt:e.tags,onClick:function(){a({status:!0,src:e.largeImageURL,alt:e.tags})}})})},w=a(26),k=a.n(w),M=function(t){var e=t.images,a=t.toggleModal;return Object(n.jsx)("ul",{className:k.a.ImageGallery,children:e.map((function(t){return Object(n.jsx)(N,{image:t,toggleModal:a},t.id)}))})},B=a(27),G=a.n(B),C=function(t){var e=t.message;return Object(n.jsx)("p",{className:G.a.Notify,children:e})},F=a(8),E=a.n(F),L=function(t){var e=t.src,a=t.alt,s=t.toggleModal;Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(t){"Escape"!==t.key&&t.target!==t.currentTarget||s({status:!1})};return Object(n.jsx)("div",{className:E.a.Overlay,onClick:c,children:Object(n.jsx)("div",{className:E.a.Modal,children:Object(n.jsx)("img",{className:E.a.img,src:e,alt:a})})})},q=a(12),R=a.n(q),T=function(t){var e=t.onClick;return Object(n.jsx)("div",{className:R.a.buttonBox,children:Object(n.jsx)("button",{type:"button",className:R.a.Button,onClick:e,children:"Load more"})})},A=a(28),J=a.n(A),Q=function(){var t=Object(r.useState)([]),e=Object(u.a)(t,2),a=e[0],s=e[1],c=Object(r.useState)(""),o=Object(u.a)(c,2),l=o[0],g=o[1],b=Object(r.useState)(1),j=Object(u.a)(b,2),h=j[0],f=j[1],p=Object(r.useState)(!1),d=Object(u.a)(p,2),O=d[0],x=d[1],v=Object(r.useState)({status:!1,message:""}),S=Object(u.a)(v,2),I=S[0],N=S[1],w=Object(r.useState)({status:!1,targetImage:null}),k=Object(u.a)(w,2),B=k[0],G=k[1],F=Object(r.useState)(!1),E=Object(u.a)(F,2),q=E[0],R=E[1];function A(t,e){if(""===t)return s([]),R(!1),void N({status:!0,message:"Please input search request"});x(!0),N({status:!1,message:""}),_(t,e).then((function(t){var n,r;1===e?s(t.hits):(s((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t.hits))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})),n=t.totalHits,r=a.length+t.hits.length,R(n>r),N(n?{status:!1,message:""}:{status:!0,message:"Nothing was found. Try again."}),f((function(t){return t+1}))})).catch((function(t){return N({status:!0,message:"Something wrong: ".concat(t.message)})})).finally((function(){return x(!1)}))}Object(r.useEffect)((function(){f(1),A(l,1)}),[l]);var Q=function(t){var e=t.status,a=t.src,n=t.alt;G(e?{status:!0,targetImage:{src:a,alt:n}}:{status:!1,targetImage:null})};return Object(n.jsxs)("div",{className:J.a.App,children:[Object(n.jsx)(y,{onSubmit:g}),I.status&&Object(n.jsx)(C,{message:I.message}),O&&Object(n.jsx)(m.a,{type:"Circles",color:"#00BFFF",height:80,width:80}),a.length>0&&Object(n.jsx)(M,{images:a,toggleModal:Q}),B.status&&Object(n.jsx)(L,{src:B.targetImage.src,alt:B.targetImage.alt,toggleModal:Q}),q&&Object(n.jsx)(T,{onClick:function(){return A(l,h)}})]})};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(Q,{})}),document.getElementById("root"))},8:function(t,e,a){t.exports={Overlay:"Modal_Overlay__NRy1q",Modal:"Modal_Modal__MZd5K"}}},[[74,1,2]]]);
//# sourceMappingURL=main.06665485.chunk.js.map